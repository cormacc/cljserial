{"version":3,"sources":["stack/components/tasks.cljc"],"mappings":"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","names":["f__35372__auto__","cljs.core/with-meta","args__35358__auto__","vec__63944","map__63947","cljs.core.nth","cljs.core/--destructure-map","cljs.core.get","res__35359__auto__","G__63964","cljs.core/vector?","cljs.core/first","alias__35373__auto__","replicant.alias/register!","stack.components.tasks/task","id","description","done","read-only","attrs","_children","cljs.core/not","vec__63984","map__63987","G__64022","stack.components.tasks/header","task-filter","children","cljs.core.map","kw","clojure.string/capitalize","cljs.core/name","stack.examples.models.domain/task-filters","vec__64056","map__64063","G__64074","stack.components.tasks/task-input","input-id","cljs.core.merge","vec__64086","map__64089","_","G__64147","stack.components.tasks/task-view","title","immutable","new-task","tasks","task-counts","iter__5480__auto__","s__64101","cljs.core/LazySeq","temp__5823__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5478__auto__","size__5479__auto__","cljs.core/count","b__64103","cljs.core/chunk-buffer","i__64102","map__64130","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__64100","cljs.core/chunk-rest","map__64139","cljs.core/cons","cljs.core/rest","task","cljs.core/chunk-first"],"sourcesContent":["(ns stack.components.tasks\n  (:require [clojure.string :as str]\n            [replicant.alias :refer [defalias]]\n            [stack.components.forms :as forms]\n            [stack.components.layout :as layout]\n            [stack.examples.models.domain :as domain]))\n\n(defalias task [{::keys [id description done read-only] :as attrs} _children]\n  [:fieldset.fieldset.p-4.bg-base-100.border.border-base-300.rounded-box.w-auto\n   attrs\n   [:label.fieldset-label.flex\n    [:input.checkbox {:type :checkbox\n                      :checked done\n                      :disabled read-only\n                      :on {:change [[:domain/transact {:db/id id :task/done (not done)}]]}}]\n    [:div.grow description]\n    (when-not read-only\n      [:button.border-0.text-red-600.cursor-pointer\n       {:on {:click [[:domain/transact [:db.fn/retractEntity id]]]}}\n       \"x\"])]])\n\n(defalias header [{::keys [task-filter] :as attrs} children]\n  [:div.flex\n   attrs\n   [:div.grow\n    [:h2.text-base.font-semibold children]]\n   [:div.flex-none\n    [::forms/select {:value task-filter\n                     :on {:input [[:user/input :task-filter :event/target.value-as-keyword]]}\n                     ::forms/options (map (fn [kw] {:key kw :value kw :content (str/capitalize (name kw))}) domain/task-filters)}]]])\n\n\n(defalias task-input [{::keys [input-id] :as attrs} children]\n  [::forms/labelled-input\n   (merge attrs {:placeholder \"Enter task description and press 'Enter' to save\"\n                 :on {:input [[:user/input input-id :event/target.value]]\n                      :keydown [[:user/on-key \"Enter\" :event/key\n                                 [[:domain/transact {:task/description :event/target.value :task/done false}]\n                                  [:user/input input-id \"\"]]]]}})\n   children])\n\n(defalias task-view [{::keys [title immutable task-filter  new-task tasks task-counts] :as attrs}]\n  [::layout/card\n   attrs\n   [::layout/header [::header {::task-filter task-filter} title]]\n   [::layout/content.grid-cols-1\n    [::task-input {::input-id :new-task\n                   :value new-task}\n     \"TODO\"]\n    [:ul.list.bg-base-100.rounded-box.shadow-md\n     (for [{:keys [id description done] :as task} tasks]\n       [:li {:replicant/key id} [::task {::id id ::description description ::done done ::read-only immutable}]])]\n    [::layout/footer\n     [:span [:strong (:done task-counts)] \" of \" [:strong (:total task-counts)] \" tasks completed\"]]]])\n"]}