{"version":3,"sources":["cljserial/utils/term.cljs"],"mappings":";AAIA,iCAAA,jCAAKA;AACL,oCAAA,mFAAA,qDAAA,sDAAA,lOAAKC;AAEL,iCAAA,mFAAA,qDAAA,gDAAA,zNAAKC;AACL,iCAAA,mFAAA,mDAAA,mFAAA,gHAAA,mFAAA,uDAAA,pfAAKC,gUAC2BF;AAGhC,6BAAA,mFAAA,mDAAA,mFAAA,qGAAA,mFAAA,uGAAA,mFAAA,xmBAAKG,oTACmBJ,0LACCE,4LACAC;AACzB,8BAAA,mFAAA,jHAAKE,0KAAgBL,+BAAUI;AAG/B,gCAAA,mFAAA,mDAAA,mFAAA,kGAAA,mFAAA,9aAAKE,oTACoBH,wLACCA;AAE1B,gCAAA,mFAAA,mDAAA,mFAAA,iEAAA,kEAAA,mFAAA,/cAAKI,wgBAEmBF;AAGxB,0CAAA,1CAAMG;AAAN,AAAA,kDAAA,iEAAA,OAAA,yDACqC,AAACC;;AAGtC,uCAAA,mFAAA,1HAAKC,mLACMV,+BAAUM;AAErB,yCAAA,zCAAMK;AAAN,AAA2B,OAACF","names":["cljserial.utils.term/Timestamp","cljserial.utils.term/ByteEncoding","cljserial.utils.term/Direction","cljserial.utils.term/EventData","cljserial.utils.term/Event","cljserial.utils.term/Events","cljserial.utils.term/Exchange","cljserial.utils.term/Terminal","cljserial.utils.term/new-terminal-store","cljs.core/sorted-map","cljserial.utils.term/ExchangeHistory","cljserial.utils.term/new-history-store"],"sourcesContent":["(ns cljserial.utils.term\n  \"Serial/terminal communications schema and utilities\")\n\n;; == Schema =====================================================================\n(def Timestamp :int)\n(def ByteEncoding [:enum :text :binary])\n\n(def Direction [:enum :tx :rx])\n(def EventData [:map\n                [:byte-encoding ByteEncoding]\n                [:bytes :string]])\n\n(def Event [:map\n            [:timestamp Timestamp]\n            [:event-type Direction]\n            [:event-data EventData]])\n(def Events [:map-of Timestamp Event])\n\n\n(def Exchange [:map\n               [:command EventData]\n               [:response EventData]])\n\n(def Terminal [:map\n               [:connection :string]\n               [:events Events]])\n\n;; TODO: This should probably done using defaults and a malli generator?\n(defn new-terminal-store [] {:connection \"none\"\n                             :events (sorted-map)})\n\n;; TODO: These and the command history at app db level are probably redundant. Eliminate?\n(def ExchangeHistory\n  [:map-of Timestamp Exchange])\n\n(defn new-history-store [] (sorted-map))\n"]}