{"version":3,"sources":["cljserial/components/term.cljs"],"mappings":"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","names":["props__39917__auto__","clj-props__39918__auto__","uix.core/glue-args","vec__56654","map__56657","cljs.core.nth","cljs.core/--destructure-map","cljs.core.get","f__39919__auto__","js/goog.DEBUG","temp__5804__auto__","cljserial.components.term/cmd-input","f__39838__auto__","*current-component*-orig-val__56734","uix.core/*current-component*","*current-component*-temp-val__56735","cljs.core/map?","js/Error","js/window","js/window.uix","js/window.uix.dev","sig__39847__auto__","js/window.uix.dev.signature!","js/window.uix.dev.register!","on-add-event","vec__56666","value","set-value!","uix.core/use-state","uix.compiler.aot/>el","uix.compiler.aot/create-uix-input","uix.compiler.attributes.class_names","uix.compiler.attributes/keyword->string","e","G__56733","cljs.core._EQ_","vec__56751","map__56754","cljserial.components.term/term-event","*current-component*-orig-val__56762","*current-component*-temp-val__56763","timestamp","event-type","event-data","props","malli.core.validate","cljserial.utils.term/Event","data-indented","clojure.string/replace","cljs.core/key","uix.compiler.attributes/interpret-attrs","vec__56773","map__56776","cljserial.components.term/term-widget","*current-component*-orig-val__56792","*current-component*-temp-val__56793","events","iter__5523__auto__","s__56780","cljs.core/LazySeq","cljs.core/seq","cljs.core/chunked-seq?","c__5521__auto__","size__5522__auto__","cljs.core/count","b__56782","cljs.core/chunk-buffer","i__56781","vec__56784","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__56779","cljs.core/chunk-rest","vec__56787","cljs.core/first","cljs.core/cons","cljs.core/rest","_timestamp","event","uix.compiler.alpha/component-element","uix.compiler.attributes/interpret-props","cljs.core/chunk-first"],"sourcesContent":["(ns cljserial.components.term\n  (:require\n   [malli.core :as m]\n   [clojure.string :as str]\n   [uix.core :as uix :refer [defui $]]\n   [cljserial.utils.term :as term]))\n\n\n(defui cmd-input [{:keys [on-add-event]}]\n  (let [[value set-value!] (uix/use-state \"\")]\n    ($ :pre {:data-prefix \">\"}\n       ($ :code\n          ($ :input\n             ;;N.B. setting class as string here because of the / in 'w-11/12'\n             {:class \"w-11/12 bg-inherit\"\n              :value value\n              :placeholder \"Enter a command and hit Enter to send\"\n              :on-change (fn [^js e]\n                           (set-value! (.. e -target -value)))\n              :on-key-down (fn [^js e]\n                             (when (= \"Enter\" (.-key e))\n                               (set-value! \"\")\n                               (on-add-event value)))})))))\n\n(defui term-event\n  [{:keys [timestamp event-type event-data] :as props}]\n  {:pre [(m/validate term/Event props)]}\n  ;;FIXME: Ugly indentation hack\n  ;;\n  (let [data-indented (str/replace (:bytes event-data) #\"\\r\\n|\\r|\\n\" \"\\n     \")]\n    ($ :pre {:key key :data-prefix (if (= event-type :tx) \">\" \" \")}  ($ :code data-indented))))\n\n(defui term-widget [{:keys [events on-add-event]}]\n  ($ :.block.w-full\n     ($ :.mockup-code\n        (for [[_timestamp event] events]\n          ($ term-event event))\n        ($ cmd-input {:on-add-event on-add-event}))))\n"]}