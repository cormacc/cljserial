{"version":3,"sources":["stack/components/serial_port.cljs"],"mappings":";AAaA,AAAA,wCAAA,gDAAAA,xFAAOY;AAAP,AAAA,IAAAX,2BAAA,AAAAC,mBAAAF;IAAAG,aAAA,CAAAF;IAAAG,aAAA,AAAAC,4CAAAF,WAAA,IAAA;IAAAC,iBAAA,AAAAE,4BAAAF;WAAA,AAAAG,4CAAAH,eAAA,lEACWoB;cADX,AAAAjB,4CAAAH,eAAA,rEACgBqB;sBADhB,AAAAlB,4CAAAH,eAAA,7EACwBsB;qBADxB,AAAAnB,4CAAAH,eAAA,5EACwCuB;uBADxC,AAAApB,4CAAAH,eAAA,9EACuDwB;IADvDpB,mBAAA;AAAA,AAAA,oBAES,AAACqB,kDAAWC,oCAAwBL;AAF7C;AAAA,AAAA,MAAA,KAAAhB,MAAA;;;AAAA,GAAAC;AAAA,AAAA,IAAAC,2BAAA,AAAAC;AAAA,AAAA,oBAAAD;AAAA,AAAA,IAAAE,yBAAAF;AAAA,AAAA,CAAAE,uDAAAA,yDAAAA;;AAAA;;AAAA;;AAIE,IAAMkB,WAAS,GAAK,kDAAA,lDAACC,6CAAER;AAAvB,AACE,OAAAS,iEAAA,CAAA,2CAAA,sDAAA,gBAAA,wsBAAA,t1BAAGC,uMACoB,EAAIH,UACF,AAAAE,qEAAA,CAAA,2CAAA,qDAAA,gDAAA,qFAAA,CAAA,vQAAGE,8OACqBR,wCAExB,AAAAM,qEAAA,CAAA,2CAAA,qDAAA,gDAAA,sFAAA,CAAA,xQAAGE,8OACqBT,sDAE9C,AAAAO,mEAAA,CAAA,oCAAA,nEAAGG,oEACA,AAAAC,wBAAA,QAAA,AAAAC,wCACG,EAAIP,UACF,AAAAM,wBAAA,KAAA,CAAA,MAAA,CAAO,AAAAA,wBAAA,KAAA,AAAAC,wCAAA,OAAA,CAAA,KAAA,KAAA,KAAA,OAAA,OAAA,IAAe,AAAAD,wBAAA,KAAA,AAAAC,6CAAA,CAAA,KAAA,KAAA,KAAA,OAAA,OAAA,nCAAOd,yCAC7B,AAAAa,wBAAA,KAAA,CAAA,MAAA,CACG,AAAAA,wBAAA,KAAA,AAAAC,wCAAA,cAAA,CAAA,KAAA,KAAA,KAAA,OAAA,OAAA,IACA,AAAAD,wBAAA,KAAA,CAAA,MAAA,CAAO,AAAAJ,mEAAA,CAAA,2CAAA,igBAAA,qGAAA,sDAAA,WAAAM,jvBAAGE,iIAAeC,AAAA,ogBACAC;AADlB,AAEkB,OAAA,iGAAAJ;GAFlB,2KAAA,uEAAA,+DAAA,WAAAC,hQAGoB,AAAA,sGAAiBf,uEACjBM;AAJpB,AAKsB,IAAAa,WAAA;IAAAC,WAAkC,AAAS,AAAAL;AAA3C,AAAA,wGAAAI,SAAAC,wCAAAD,SAAAC,1JAACjB,iDAAAA,oEAAAA;qBAVtC,CAAA,QAAA,KAAA,KAAA,OAAA,OAAA,1CAKe,2CAMZ,AAAAS,wBAAA,KAAA,CAAA,MAAA,CACG,AAAAA,wBAAA,KAAA,AAAAC,wCAAA,YAAA,CAAA,KAAA,KAAA,KAAA,OAAA,OAAA,IACA,AAAAD,wBAAA,KAAA,CAAA,MAAA,CAAO,AAAAJ,mEAAA,CAAA,2CAAA,oPAAA,iKAAA,uEAAA,+DAAA,WAAAa,hnBAAGL,iIAAeM,AAAA,yPACE,AAAA,4FAAWtB,uEACXM;AAFpB,AAGsB,IAAAiB,WAAA;IAAAC,WAA4B,AAAS,AAAAH;AAArC,AAAA,wGAAAE,SAAAC,wCAAAD,SAAAC,1JAACrB,iDAAAA,oEAAAA;YAHvB,QAIV,AAAAS,wBAAA,KAAA,CAAA,MAAA,CACG,AAAAA,wBAAA,KAAA,AAAAC,wCAAA,YAAA,CAAA,KAAA,KAAA,KAAA,OAAA,OAAA,IACA,AAAAD,wBAAA,KAAA,CAAA,MAAA,CAAO,AAAAJ,mEAAA,CAAA,2CAAA,oHAAA,0DAAA,WAAAiB,nQAAGT,iIAAe,AAACW,6BAAiBC;AAApC,AACmB,mDAAAH;GADnB,gKAAA,uEAAA,+DAAA,WAAAC,rPAEoB,AAAA,2FAAW1B,uEACXM;AAHpB,AAIsB,IAAAuB,WAAA;IAAAC,WAA4B,AAAS,AAAAJ;AAArC,AAAA,wGAAAG,SAAAC,wCAAAD,SAAAC,1JAAC3B,iDAAAA,oEAAAA;YAJvB,QAKV,AAAAS,wBAAA,KAAA,CAAA,MAAA,CACG,AAAAA,wBAAA,KAAA,AAAAC,wCAAA,YAAA,CAAA,KAAA,KAAA,KAAA,OAAA,OAAA,IACA,AAAAD,wBAAA,KAAA,CAAA,MAAA,CAAO,AAAAJ,mEAAA,CAAA,2CAAA,oHAAA,0DAAA,WAAAuB,nQAAGf,iIAAe,AAACW,6BAAiBM;AAApC,AACmB,mDAAAF;GADnB,+JAAA,uEAAA,+DAAA,WAAAC,pPAEoB,AAAA,0FAAWhC,uEACXM;AAHpB,AAIsB,IAAA4B,WAAA;IAAAC,WAA4B,AAAS,AAAAH;AAArC,AAAA,wGAAAE,SAAAC,wCAAAD,SAAAC,1JAAChC,iDAAAA,oEAAAA;YAJvB,QAKV,AAAAS,wBAAA,KAAA,CAAA,MAAA,CACG,AAAAA,wBAAA,KAAA,AAAAC,wCAAA,SAAA,CAAA,KAAA,KAAA,KAAA,OAAA,OAAA,IACA,AAAAD,wBAAA,KAAA,CAAA,MAAA,CAAO,AAAAJ,mEAAA,CAAA,2CAAA,oHAAA,9LAAGQ,iIAAe,AAACqB,+BAAmBC,wFACpB,WAAKC;AAAL,AAAQ,OAACC,eAAKD;GADhC,6JAAA,uEAAA,+DAAA,WAAAH,lPAEoB,AAAA,wFAASpC,uEACTM;AAHpB,AAIsB,IAAAmC,WAAA;IAAAC,WAA0B,AAAS,AAAAN;AAAnC,AAAA,wGAAAK,SAAAC,wCAAAD,SAAAC,1JAACvC,iDAAAA,oEAAAA;YAJvB,QAKV,AAAAS,wBAAA,KAAA,CAAA,MAAA,CACG,AAAAA,wBAAA,KAAA,AAAAC,wCAAA,eAAA,CAAA,KAAA,KAAA,KAAA,OAAA,OAAA,IACA,AAAAD,wBAAA,KAAA,CAAA,MAAA,CAAO,AAAAJ,mEAAA,CAAA,2CAAA,yHAAA,nMAAGQ,iIAAe,AAACqB,+BAAmBO,6FACpB,WAAKL;AAAL,AAAQ,OAACC,eAAKD;GADhC,sKAAA,uEAAA,+DAAA,WAAAI,3PAEoB,AAAA,iGAAc3C,uEACdM;AAHpB,AAIsB,IAAAuC,WAAA;IAAAC,WAA+B,AAAS,AAAAH;AAAxC,AAAA,wGAAAE,SAAAC,wCAAAD,SAAAC,1JAAC3C,iDAAAA,oEAAAA;YAJvB;;AAtDvB,AAAA,GAAAlB;AAAA,IAAAI,gDAAAC;IAAAC,gDAAAJ;AAAA,AAAA,CAAAG,yCAAAC;;AAAA,IAAA,AAAA,GAAA,EAAA,AAAAC,qBAAAhB,+BAAA,CAAAA,4BAAA;AAAA;AAAA,AAAA,MAAA,KAAAQ,MAAA,CAAA,kBAAA,CAAA,qGAAAR,oCAAA,KAAA;;;AAAA,OAAAO;UAAA,AAAA,CAAAO,yCAAAD;;AAAA,OAAAN;;;;AAAA,CAAA,AAAAI,6DAAA;;AAAA,CAAA,AAAAA,oDAAA;;AAAA,GAAAF;AAAA,AAAA,GAAA,QAAAQ,mCAAAC,uCAAAC;AAAA,AAAA,IAAAC,2BAAA,AAAAC;AAAA,AAAA,CAAAD,yDAAAA,uDAAAT,sCAAA,GAAA,KAAA,QAAAS,oCAAAT,sCAAA,GAAA,KAAA;;AAAA,AAAAW,8BAAAX,sCAAA,AAAAA;;AAAA,CAAA,AAAAA,+DAAAS;;AAAA;;AAAA","names":["props__45317__auto__","clj-props__45318__auto__","uix.core/glue-args","vec__95488","map__95491","cljs.core.nth","cljs.core/--destructure-map","cljs.core.get","f__45319__auto__","js/Error","js/goog.DEBUG","temp__5823__auto__","stack.components.serial-port/settings","f__45248__auto__","*current-component*-orig-val__95570","uix.core/*current-component*","*current-component*-temp-val__95571","cljs.core/map?","js/window","js/window.uix","js/window.uix.dev","sig__45257__auto__","js/window.uix.dev.signature!","js/window.uix.dev.register!","port","options","on-port-request","on-port-forget","on-option-update","malli.core.validate","stack.utils.webserial/SerialOptions","has-port","cljs.core._EQ_","uix.compiler.alpha/component-element","stack.components.cards/card","stack.components.buttons/button","stack.components.tables/table","uix.compiler.aot/>el","uix.compiler.attributes/interpret-attrs","p1__95456#","p1__95457#","stack.components.forms/select","stack.utils.webserial/PORT-FILTERS","stack.utils.webserial/describe-port-filter","G__95527","G__95528","p1__95461#","stack.utils.webserial/BAUD-RATES","G__95535","G__95536","p1__95463#","p1__95465#","stack.utils.schema/int-range","stack.utils.webserial/DataBits","G__95537","G__95538","p1__95466#","p1__95467#","stack.utils.webserial/StopBits","G__95549","G__95550","p1__95468#","stack.utils.schema/enum-values","stack.utils.webserial/Parity","i","cljs.core/name","G__95556","G__95557","p1__95469#","stack.utils.webserial/FlowControl","G__95561","G__95562"],"sourcesContent":["(ns stack.components.serial-port\n  \"A webserial connection settings UI component.\"\n  (:require\n   [uix.core :as uix :refer [defui $]]\n   [malli.core :as m]\n   [stack.utils.webserial :as webserial]\n   [stack.utils.schema :as schema]\n   [stack.components.cards :as cards]\n   [stack.components.tables :as tables]\n   [stack.components.buttons :as buttons]\n   [stack.components.forms :as forms :refer [select]]))\n\n\n(defui settings\n  [{:keys [port options on-port-request on-port-forget on-option-update]}]\n  {:pre [(m/validate webserial/SerialOptions options)]}\n\n  (let [has-port (not (= port nil))]\n    ($ cards/card {:title \"Port settings\"\n                   :action (if has-port\n                             ($ buttons/button\n                                {:size :xs :on-click on-port-forget}\n                                \"Close port\")\n                             ($ buttons/button\n                                {:size :xs :on-click on-port-request}\n                                \"Request port\"))}\n       ($ tables/table\n          ($ :tbody\n             (if has-port\n               ($ :tr ($ :td \"Port\") ($ :td port))\n               ($ :tr\n                  ($ :td \"Port filter\")\n                  ($ :td ($ select {:items webserial/PORT-FILTERS\n                                   :format webserial/describe-port-filter\n                                   :value #(:usbVendorId %)\n                                   :selected (:vendorIdFilter options)\n                                   :disabled has-port\n                                   :on-change #(on-option-update :vendorIdFilter (.-value (.-target %1)))}))))\n             ($ :tr\n                ($ :td \"Baud rate\")\n                ($ :td ($ select {:items webserial/BAUD-RATES\n                                 :selected (:baudRate options)\n                                 :disabled has-port\n                                 :on-change #(on-option-update :baudRate (.-value (.-target %1)))})))\n             ($ :tr\n                ($ :td \"Data bits\")\n                ($ :td ($ select {:items (schema/int-range webserial/DataBits)\n                                 :format #(str %)\n                                 :selected (:dataBits options)\n                                 :disabled has-port\n                                 :on-change #(on-option-update :dataBits (.-value (.-target %1)))})))\n             ($ :tr\n                ($ :td \"Stop bits\")\n                ($ :td ($ select {:items (schema/int-range webserial/StopBits)\n                                 :format #(str %)\n                                 :selected (:stopBits options)\n                                 :disabled has-port\n                                 :on-change #(on-option-update :stopBits (.-value (.-target %1)))})))\n             ($ :tr\n                ($ :td \"Parity\")\n                ($ :td ($ select {:items (schema/enum-values webserial/Parity)\n                                 :format (fn [i] (name i))\n                                 :selected (:parity options)\n                                 :disabled has-port\n                                 :on-change #(on-option-update :parity (.-value (.-target %1)))})))\n             ($ :tr\n                ($ :td \"Flow control\")\n                ($ :td ($ select {:items (schema/enum-values webserial/FlowControl)\n                                 :format (fn [i] (name i))\n                                 :selected (:flowControl options)\n                                 :disabled has-port\n                                 :on-change #(on-option-update :flowControl (.-value (.-target %1)))}))))))))\n"]}