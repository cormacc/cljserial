{"version":3,"sources":["statecharts/clock.cljc"],"mappings":"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","names":["statecharts$clock$Clock$getTimeMillis$dyn","x__5350__auto__","m__5351__auto__","statecharts.clock/getTimeMillis","goog/typeOf","m__5349__auto__","cljs.core/missing-protocol","statecharts$clock$Clock$setTimeout$dyn","statecharts.clock/setTimeout","statecharts$clock$Clock$clearTimeout$dyn","statecharts.clock/clearTimeout","statecharts.clock/Clock","this","f","delay","id","cljs.core/PROTOCOL_SENTINEL","this__5287__auto__","writer__5288__auto__","opt__5289__auto__","cljs.core/-write","statecharts.clock/WallClock","statecharts.clock/->WallClock","js/Date.now","js/setTimeout","js/clearTimeout","statecharts.clock/wall-clock","statecharts.clock/*clock*","statecharts.clock/now","js/Error"],"sourcesContent":["(ns statecharts.clock)\n\n(defprotocol Clock\n  (getTimeMillis [this] \"Return the current time in milliseconds\")\n  (setTimeout [this f delay])\n  (clearTimeout [this id]))\n\n#?(:cljs\n   (deftype WallClock []\n     Clock\n     (getTimeMillis [this]\n       (js/Date.now))\n     (setTimeout [this f delay]\n       (js/setTimeout f delay))\n     (clearTimeout [this id]\n       (js/clearTimeout id))))\n\n;; TODO\n#?(:clj\n   (deftype WallClock []\n     Clock\n     (getTimeMillis [this]\n       (System/currentTimeMillis))\n     (setTimeout [this f delay])\n     (clearTimeout [this id])))\n\n(defn wall-clock []\n  (WallClock.))\n\n(def ^:dynamic ^Clock *clock*\n  \"The scheduler clock for the current fsm\"\n  nil)\n\n(defn now\n  \"\"\n  []\n  (assert *clock*)\n  (getTimeMillis *clock*))\n"],"x_google_ignoreList":[0]}