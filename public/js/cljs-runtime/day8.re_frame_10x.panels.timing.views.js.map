{"version":3,"sources":["day8/re_frame_10x/panels/timing/views.cljs"],"mappings":"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","names":["day8.re-frame-10x.panels.timing.views/ms->str","ms","cljs.core._EQ_","js/Math.round","p__77561","map__77562","cljs.core/--destructure-map","cljs.core.get","day8.re-frame-10x.panels.timing.views/tag","label","time","cljs.core/deref","ambiance","day8.re_frame_10x.inlined_deps.re_frame.v1v3v0.re_frame.core.subscribe","day8.re-frame-10x.components.re-com/v-box","day8.re-frame-10x.styles/gs-5s","day8.re-frame-10x.components.re-com/label","day8.re-frame-10x.components.data/tag","day8.re-frame-10x.panels.timing.views/section-style-factory$","style-name77563","params77564","vec__77568","cljs.core.nth","style77566","day8.re-frame-10x.inlined-deps.spade.git-sha-5197e54.runtime/compile-css","factory-name77565","day8.re-frame-10x.inlined-deps.spade.git-sha-5197e54.util/factory->name","section-style-name$","cljs.core/memoize","cljs.core.partial","day8.re-frame-10x.inlined-deps.spade.git-sha-5197e54.util/build-style-name","day8.re-frame-10x.inlined-deps.spade.git-sha-5197e54.runtime/ensure-style!","cljs.core/meta","day8.re-frame-10x.panels.timing.views/section-style","day8.re-frame-10x.styles/frame-1","day8.re-frame-10x.styles/gs-12","day8.re-frame-10x.styles/gs-19","day8.re-frame-10x.panels.timing.views/elapsed","day8.re-frame-10x.components.re-com/h-box","day8.re-frame-10x.styles/gs-12s","day8.re-frame-10x.components.re-com/box","day8.re-frame-10x.styles/gs-81s","day8.re-frame-10x.components.re-com/hyperlink-href","day8.re-frame-10x.styles/hyperlink","day8.re-frame-10x.panels.timing.views/event-processing","times","day8.re-frame-10x.panels.timing.views/animation-frames","n","cljs.core.into","iter__5480__auto__","s__77573","cljs.core/LazySeq","temp__5823__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5478__auto__","size__5479__auto__","cljs.core/count","b__77575","cljs.core/chunk-buffer","i__77574","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__77572","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","i","cljs.core.range","day8.re-frame-10x.panels.timing.views/panel-style-factory$","style-name77589","params77590","vec__77594","style77592","factory-name77591","panel-style-name$","day8.re-frame-10x.panels.timing.views/panel-style","_","day8.re-frame-10x.styles/gs-5","day8.re-frame-10x.panels.timing.views/panel","available?","cljs.core/chunk-first"],"sourcesContent":["(ns day8.re-frame-10x.panels.timing.views\n  (:require\n   [day8.re-frame-10x.inlined-deps.re-frame.v1v3v0.re-frame.core :as rf]\n   [day8.re-frame-10x.inlined-deps.spade.git-sha-5197e54.core    :refer [defclass]]\n   [day8.re-frame-10x.components.re-com                          :as rc]\n   [day8.re-frame-10x.styles                                     :as styles]\n   [day8.re-frame-10x.panels.settings.subs                       :as settings.subs]\n   [day8.re-frame-10x.panels.timing.subs                         :as timing.subs]\n   [day8.re-frame-10x.components.data                            :as data]))\n\n(defn ms->str\n  [ms]\n  (cond\n    (nil? ms) \"-\"\n    (= ms 0) (str \"0ms\")\n    (< ms 0.1) (str \"<0.1ms\")\n    (< ms 1) (str (.toFixed ms 1) \"ms\")\n    (some? ms) (str (js/Math.round ms) \"ms\")))\n\n(defn tag\n  [{:keys [label time]}]\n  (let [ambiance @(rf/subscribe [::settings.subs/ambiance])]\n    [rc/v-box\n     :align    :center\n     :gap      styles/gs-5s\n     :children\n     [[rc/label :label label]\n      [data/tag {:class \"timing-tag\" :label (ms->str time)}]]]))\n\n(defclass section-style\n  [ambiance]\n  {:composes      (styles/frame-1 ambiance)\n   :padding       styles/gs-12\n   :margin-bottom styles/gs-19})\n\n(defn elapsed\n  []\n  (let [ambiance @(rf/subscribe [::settings.subs/ambiance])\n        time     @(rf/subscribe [::timing.subs/total-epoch-time])]\n    [rc/h-box\n     :class    (section-style ambiance)\n     :align    :center\n     :gap      styles/gs-12s\n     :children\n     [[rc/box\n       :align   :center\n       :justify :center\n       :width   styles/gs-81s\n       :child\n       [rc/label\n        :label \"elapsed\"]]\n      [tag\n       {:label \"\"\n        :time  time}]\n      [rc/hyperlink-href\n       :class  (styles/hyperlink ambiance)\n       :label  \"guide me to greatness\"\n       :target \"_blank\"\n       :href   \"https://github.com/day8/re-frame-10x/blob/master/docs/HyperlinkedInformation/UnderstandingTiming.md\"]]]))\n\n(defn event-processing\n  []\n  (let [ambiance @(rf/subscribe [::settings.subs/ambiance])\n        times    @(rf/subscribe [::timing.subs/event-processing-time])]\n    [rc/h-box\n     :class    (section-style ambiance)\n     :align    :center\n     :gap      styles/gs-12s\n     :children\n     [[rc/v-box\n       :align    :center\n       :width    styles/gs-81s\n       :children\n       [[rc/label\n         :label \"event\"]\n        [rc/label\n         :label \"processing\"]]]\n      [tag\n       {:label \"total\"\n        :time  (:timing/event-total times)}]\n      [:span \"=\"]\n      [tag\n       {:label \"handler\"\n        :time  (:timing/event-handler times)}]\n      [:span \"+\"]\n      [tag\n       {:label \"effects\"\n        :time  (:timing/event-effects times)}]\n      [:span \"+\"]\n      [tag\n       {:label \"misc\"\n        :time  (:timing/event-misc times)}]]]))\n\n(defn animation-frames\n  []\n  (let [ambiance @(rf/subscribe [::settings.subs/ambiance])\n        n        @(rf/subscribe [::timing.subs/animation-frame-count])]\n    (into\n     [:<>]\n     (for [i    (range 1 (inc n))\n           :let [times @(rf/subscribe [::timing.subs/animation-frame-time i])]]\n       [rc/h-box\n        :class (section-style ambiance)\n        :align :center\n        :gap   styles/gs-12s\n        :children\n        [[rc/v-box\n          :align    :center\n          :width    styles/gs-81s\n          :children\n          [[rc/label\n            :label \"animation\"]\n           [rc/label\n            :label  (str \"frame #\" i)]]]\n         [tag\n          {:label \"total\"\n           :time  (:timing/animation-frame-total times)}]\n         [:span \"=\"]\n         [tag\n          {:label \"subs\"\n           :time  (:timing/animation-frame-subs times)}]\n         [:span \"+\"]\n         [tag\n          {:label \"views\"\n           :time  (:timing/animation-frame-render times)}]\n         [:span \"+\"]\n         [tag\n          {:label \"react, etc\"\n           :time  (:timing/animation-frame-misc times)}]]]))))\n\n(defclass panel-style\n  [_]\n  {:margin-right styles/gs-5})\n\n(defn panel\n  []\n  (let [ambiance   @(rf/subscribe [::settings.subs/ambiance])\n        available? @(rf/subscribe [::timing.subs/data-available?])]\n    (if available?\n      [rc/v-box\n       :class    (panel-style ambiance)\n       :children\n       [[elapsed]\n        [event-processing]\n        [animation-frames]]]\n      [rc/v-box\n       :class    (panel-style ambiance)\n       :children\n       [[rc/label\n         :label \"No timing data is currently available.\"]]])))\n"],"x_google_ignoreList":[0]}