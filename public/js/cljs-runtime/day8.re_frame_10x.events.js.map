{"version":3,"sources":["day8/re_frame_10x/events.cljs"],"mappings":"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","names":["day8.re_frame_10x.inlined_deps.re_frame.v1v3v0.re_frame.core.reg_event_fx","day8.re_frame_10x.inlined_deps.re_frame.v1v3v0.re_frame.core.inject_cofx","day8.re-frame-10x.tools.coll/sortable-uuid-map","day8.re-frame-10x.inlined-deps.re-frame.v1v3v0.re-frame.core/unwrap","p__86947","map__86948","cljs.core/--destructure-map","cljs.core.get","stored","fallback","project-config","map__86950","panel-width-ratio","show-panel","selected-tab","filter-items","app-db-json-ml-expansions","external-window?","external-window-dimensions","show-epoch-traces?","using-trace?","ignored-events","low-level-trace","filtered-view-trace","retained-epochs","app-db-paths","app-db-follows-events?","ambiance","syntax-color-scheme","categories","data-path-annotations?","show-event-history","open-new-inspectors?","handle-keys?","key-bindings","log-outputs","log-pretty?","expansion-limit","ns-aliases","alias-namespaces?","trace-when","debug?","cljs.core.merge","or__5002__auto__","cljs.core._EQ_","day8.re-frame-10x.navigation.views/mount","cljs.core.into","cljs.core/sorted-map","_","js/window.addEventListener","day8.re-frame-10x.inlined-deps.re-frame.v1v3v0.re-frame.core/dispatch-sync","day8.re_frame_10x.inlined_deps.re_frame.v1v3v0.re_frame.core.reg_event_db","p__86985","vec__86990","cljs.core.nth","db","unloading?","cljs.core/assoc-in","day8.re_frame_10x.inlined_deps.re_frame.v1v3v0.re_frame.core.path","day8.re-frame-10x.inlined-deps.re-frame.v1v3v0.re-frame.core/trim-v","p__87002","p__87003","map__87007","map__87008","vec__87009","value","p1__86996#","cljs.core.mapv"],"sourcesContent":["(ns day8.re-frame-10x.events\n  (:require\n   [re-frame.core]\n   [re-frame.db]\n   [re-frame.trace]\n   [re-frame.interop]\n   [day8.re-frame-10x.inlined-deps.re-frame.v1v3v0.re-frame.core :as rf]\n   [day8.re-frame-10x.fx.local-storage                           :as local-storage]\n   [day8.re-frame-10x.fx.log                                     :as log]\n   [day8.re-frame-10x.navigation.events                          :as navigation.events]\n   [day8.re-frame-10x.navigation.views                           :as navigation.views]\n   [day8.re-frame-10x.panels.app-db.events                       :as app-db.events]\n   [day8.re-frame-10x.panels.settings.events                     :as settings.events]\n   [day8.re-frame-10x.panels.traces.events                       :as traces.events]\n   [day8.re-frame-10x.tools.coll                                 :refer [sortable-uuid-map]]))\n\n(rf/reg-event-fx\n ::init\n [(rf/inject-cofx ::local-storage/load {:key \"panel-width-ratio\" :or 0.35})\n  (rf/inject-cofx ::local-storage/load {:key \"show-panel\" :or true})\n  (rf/inject-cofx ::local-storage/load {:key \"selected-tab\" :or :event})\n  (rf/inject-cofx ::local-storage/load {:key \"filter-items\" :or []})\n  (rf/inject-cofx ::local-storage/load {:key \"app-db-json-ml-expansions\" :or #{}})\n  (rf/inject-cofx ::local-storage/load {:key \"external-window?\" :or false})\n  (rf/inject-cofx ::local-storage/load {:key \"external-window-dimensions\"\n                                        :or {:width 800 :height 800 :top 0 :left 0}})\n  (rf/inject-cofx ::local-storage/load {:key \"show-epoch-traces?\" :or true})\n  (rf/inject-cofx ::local-storage/load {:key \"using-trace?\" :or true})\n  (rf/inject-cofx ::local-storage/load {:key \"trace-when\" :or :panel})\n  (rf/inject-cofx ::local-storage/load {:key \"ignored-events\" :or {}})\n  (rf/inject-cofx ::local-storage/load {:key \"low-level-trace\" :or {:reagent true :re-frame true}})\n  (rf/inject-cofx ::local-storage/load {:key \"filtered-view-trace\"\n                                        :or (sortable-uuid-map\n                                             [{:ns 're-com.box :ns-str \"re-com.box\"}\n                                              {:ns 're-com.input-text :ns-str \"re-com.input-text\"}])})\n  (rf/inject-cofx ::local-storage/load {:key \"retained-epochs\" :or 25})\n  (rf/inject-cofx ::local-storage/load {:key \"app-db-paths\" :or {}})\n  (rf/inject-cofx ::local-storage/load {:key \"app-db-follows-events?\" :or true})\n  (rf/inject-cofx ::local-storage/load {:key \"ambiance\" :or :bright})\n  (rf/inject-cofx ::local-storage/load {:key \"syntax-color-scheme\" :or :cljs-devtools})\n  (rf/inject-cofx ::local-storage/load {:key \"categories\" :or #{:event :sub/run :sub/create :sub/dispose}})\n  (rf/inject-cofx ::local-storage/load {:key \"data-path-annotations?\" :or false})\n  (rf/inject-cofx ::local-storage/load {:key \"show-event-history\" :or true})\n  (rf/inject-cofx ::local-storage/load {:key \"open-new-inspectors?\" :or true})\n  (rf/inject-cofx ::local-storage/load {:key \"handle-keys?\" :or true})\n  (rf/inject-cofx ::local-storage/load {:key \"key-bindings\" :or {:show-panel {:key \"X\"\n                                                                              :altKey false\n                                                                              :ctrlKey true\n                                                                              :metaKey false\n                                                                              :shiftKey true}}})\n  (rf/inject-cofx ::local-storage/load {:key \"log-outputs\" :or [:day8.re-frame-10x.fx.log/console]})\n  (rf/inject-cofx ::local-storage/load {:key \"log-pretty?\" :or true})\n  (rf/inject-cofx ::local-storage/load {:key \"expansion-limit\" :or 1000})\n  (rf/inject-cofx ::local-storage/load {:key \"ns-aliases\"\n                                        :or (sortable-uuid-map [{:ns-full \"long-namespace\" :ns-alias \"ln\"}])})\n  (rf/inject-cofx ::local-storage/load {:key \"alias-namespaces?\"})\n  rf/unwrap]\n (fn [{::local-storage/keys [stored fallback]} project-config]\n   (let [{:keys [panel-width-ratio show-panel selected-tab filter-items app-db-json-ml-expansions\n                 external-window? external-window-dimensions show-epoch-traces? using-trace?\n                 ignored-events low-level-trace filtered-view-trace retained-epochs app-db-paths\n                 app-db-follows-events? ambiance syntax-color-scheme categories data-path-annotations?\n                 show-event-history open-new-inspectors? handle-keys? key-bindings log-outputs log-pretty?\n                 expansion-limit ns-aliases alias-namespaces? trace-when\n                 debug?]}\n         (merge fallback project-config stored)]\n     {:fx [(when (or using-trace? (= :always trace-when))\n             [:dispatch [::settings.events/enable-tracing]])\n           [:dispatch [::settings.events/panel-width% panel-width-ratio]]\n           [:dispatch [::settings.events/show-panel? show-panel]]\n           [:dispatch [::settings.events/selected-tab selected-tab]]\n           [:dispatch [::settings.events/set-ignored-events ignored-events]]\n           [:dispatch [::settings.events/set-filtered-view-trace filtered-view-trace]]\n           [:dispatch [::settings.events/trace-when trace-when]]\n           [:dispatch [::settings.events/set-low-level-trace low-level-trace]]\n           [:dispatch [::settings.events/set-number-of-retained-epochs retained-epochs]]\n           [:dispatch [::settings.events/app-db-follows-events? app-db-follows-events?]]\n           [:dispatch [::settings.events/set-ambiance ambiance]]\n           [:dispatch [::settings.events/set-syntax-color-scheme syntax-color-scheme]]\n           [:dispatch [::settings.events/debug? debug?]]\n           ;; Important that window dimensions are set before we open an external window.\n           [:dispatch [::settings.events/external-window-dimensions external-window-dimensions]]\n           [:dispatch [::app-db.events/set-data-path-annotations? data-path-annotations?]]\n           (when external-window?\n             [:dispatch [::navigation.events/launch-external navigation.views/mount]])\n           [:dispatch [::traces.events/set-queries filter-items]]\n           [:dispatch [::traces.events/set-categories categories]]\n           [:dispatch [::traces.events/set-filter-by-selected-epoch? show-epoch-traces?]]\n           [:dispatch [::app-db.events/paths (into (sorted-map) app-db-paths)]]\n           [:dispatch [::app-db.events/set-json-ml-paths app-db-json-ml-expansions]]\n           [:dispatch [:global/add-unload-hook]]\n           [:dispatch [::app-db.events/reagent-id]]\n           [:dispatch [::settings.events/show-event-history? show-event-history]]\n           [:dispatch [::settings.events/open-new-inspectors? open-new-inspectors?]]\n           [:dispatch [::settings.events/handle-keys? handle-keys?]]\n           [:dispatch [::settings.events/key-bindings key-bindings]]\n           [:dispatch [::settings.events/log-outputs log-outputs]]\n           [:dispatch [::settings.events/log-pretty? log-pretty?]]\n           [:dispatch [::settings.events/expansion-limit expansion-limit]]\n           [:dispatch [::settings.events/ns-aliases ns-aliases]]\n           [:dispatch [::settings.events/alias-namespaces? alias-namespaces?]]]})))\n\n;; Global\n\n(rf/reg-event-fx\n :global/add-unload-hook\n (fn [_ _]\n   (js/window.addEventListener \"beforeunload\" #(rf/dispatch-sync [:global/unloading? true]))\n   nil))\n\n(rf/reg-event-db\n :global/unloading?\n (fn [db [_ unloading?]]\n   (assoc-in db [:global :unloading?] unloading?)))\n\n(rf/reg-event-fx\n :global/log\n [(rf/path [:settings]) rf/trim-v]\n (fn [{{:keys [log-outputs log-pretty?]} :db} [value]]\n   {:fx (mapv #(do [% {:value value :pretty? log-pretty?}])\n              log-outputs)}))\n"],"x_google_ignoreList":[0]}