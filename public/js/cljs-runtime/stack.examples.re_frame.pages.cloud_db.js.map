{"version":3,"sources":["stack/examples/re_frame/pages/cloud_db.cljs"],"mappings":"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","names":["props__46991__auto__","props98332","uix.core/glue-args","vec__98339","cljs.core.nth","f__46992__auto__","js/goog.DEBUG","temp__5823__auto__","stack.examples.re-frame.pages.cloud-db/layout","f__46909__auto__","*current-component*-orig-val__98362","uix.core/*current-component*","*current-component*-temp-val__98363","cljs.core/map?","js/Error","js/Object.defineProperty","obj98372","js/window","js/window.uix","js/window.uix.dev","sig__46918__auto__","js/window.uix.dev.signature!","js/window.uix.dev.register!","_props","vec__98343","devices","set-devices!","uix.core/use-state","uix.hooks.alpha.use_effect","uix.hooks.alpha/use-clj-deps","stack.utils.supabase.get_table","uix.compiler.alpha/component-element","stack.uix.hardware/device-table","props98388","vec__98392","stack.examples.re-frame.pages.cloud-db/layout-with-auth","*current-component*-orig-val__98404","*current-component*-temp-val__98405","obj98420","stack.services.auth/wrap-layout"],"sourcesContent":["(ns stack.examples.re-frame.pages.cloud-db\n  \"A page demonstrating some backend functionality provided by supabase.\n  Using react state/effect hooks for now to keep things focused (no re-frame).\n\n  TODO: Rework to detect connection failure and display an appropriate message\n  \"\n  (:require\n   ;Libs\n   [taoensso.telemere :as t]\n   [uix.core :refer [defui $]]\n   ;Stack\n   [stack.utils.supabase :as supabase]\n   [stack.services.auth :as auth]\n   ;App\n   [stack.uix.hardware :refer [device-table]]))\n\n\n(defui layout [_props]\n  ;; Using local state hooks rather then re-frame db here while exploring the supabase api...\n  (let [[devices set-devices!] (uix.core/use-state [])]\n    (uix.core/use-effect\n     ;; Retrieve the device table\n     (fn [] (supabase/get-table \"devices\" :then set-devices!))\n     ;; No dependencies -- i.e. don't re-run the effecthook\n     [])\n    ($ device-table {:devices devices})))\n\n(defui layout-with-auth [_props]\n  ($ auth/wrap-layout {:layout layout}))\n"]}