{"version":3,"sources":["gadget/actions.cljc"],"mappings":";AAIA,8BAAA,9BAAMA,oEAAcC;AAApB,AAEK,IAAMC,YAAU,uBAAA,vBAACC;AAAjB,AACE,CAAM,AAAeD,wBAAWD;;AAChC,AAACG,0BAA6BF;;AAC9B,AAASA;;AACT,qBAAA,rBAACG;;AACD,AAAOH;;AACP,OAACI,0BAA6BJ;;AAErC,GAAA,QAAAK,mCAAAC,2CAAAC;AAAA;AAAA,AAAA,6BAAA,iBAAAC,6BAAA,AAAAC,6CAAA,xHAAUS;IAAVR,6BAAA,AAAAD,6CAAA;IAAAE,6BAAA,AAAAF,6CAAA;IAAAG,iCAAA,AAAAH,6CAAA;IAAAI,0BAAA,AAAAC,4CAAA,mCAAA,gEAAA,iBAAAC,eAAA;AAAA,AAAA,QAAAA,6CAAAA,+CAAAA;;AAAA,AAAA,YAAAC,kBAAA,AAAAC,+CAAA,iBAAA,eAAsB,WAAKE,MAAMC,OAAOC;AAAlB,AAAwBD;GAA9C,4DAAAP,wBAAAL,2BAAAE,2BAAAC,2BAAAC;;;AAEA,AAAAM,wEAAA,iEAAA,mBAAAI,RAAqCH,MAAMM;AAA3C,AAAA,IAAAF,aAAAD;QAAA,AAAAE,4CAAAD,WAAA,IAAA,/DAA8CG;QAA9C,AAAAF,4CAAAD,WAAA,IAAA,/DAAgDI;AAAhD,AACE,OAACC,mDAAMT,MAAMU,mBAAS,+CAAA,mFAAA,lIAACC,+LAAeJ,GAAGC;;AAE3C,AAAAT,wEAAA,gFAAA,mBAAAa,RAA2CZ,MAAMM;AAAjD,AAAA,IAAAO,aAAAD;YAAA,AAAAP,4CAAAQ,WAAA,IAAA,nEAAoDC;WAApD,AAAAT,4CAAAQ,WAAA,IAAA,lEAA0DE;AAA1D,AACE,OAACpC,4BAAa,AAACqC,wGAAO,AAACC,qBAAO,sBAAA,AAAAC,tBAACC,sCAAYnB,OAAMc,OAAOC;;AAE1D,AAAAhB,wEAAA,2EAAA,mBAAAqB,RAAyCpB,MAAMM;AAA/C,AAAA,IAAAe,aAAAD;IAAAE,aAAA,AAAAjB,4CAAAgB,WAAA,IAAA;IAAAC,iBAAA,AAAAC,4BAAAD;YAAA,AAAA3B,4CAAA2B,eAAA,nEAA0DE;aAA1D,AAAA7B,4CAAA2B,eAAA,pEAAgEG;AAAhE,AACE,gFAAA,wDAAA,2CAAA,6DAAA,zOAAChB,mDAAMT,MAAM0B,0KAAsBF,+DAAcC;;AAEnD,AAAA1B,wEAAA,4DAAA,WAAiCC,MAAMC,OAAOC;AAA9C,AACE,4GAAA,rGAACyB,0HAAyB1B","names":["gadget.actions/to-clipboard","text","text-area","js/document.createElement","js/document.body.appendChild","js/document.execCommand","js/document.body.removeChild","js/gadget","js/gadget.actions","js/gadget.actions.exec-action","method-table__5599__auto__","cljs.core.atom","prefer-table__5600__auto__","method-cache__5601__auto__","cached-hierarchy__5602__auto__","hierarchy__5603__auto__","cljs.core.get","fexpr__61399","cljs.core/MultiFn","cljs.core.symbol","gadget.actions/exec-action","store","action","args","p__61402","vec__61403","cljs.core.nth","_","k","v","cljs.core.swap_BANG_","cljs.core/assoc-in","cljs.core.concat","p__61412","vec__61413","label","path","cljs.core.pr_str","gadget.datafy/nav-in","cljs.core/deref","gadget.std/state-data","p__61416","vec__61417","map__61420","cljs.core/--destructure-map","width","height","cljs.core/assoc","cljs.core.prn"],"sourcesContent":["(ns gadget.actions\n  (:require [gadget.datafy :refer [nav-in]]\n            [gadget.std :refer [state-data]]))\n\n(defn to-clipboard [text]\n  #?(:cljs\n     (let [text-area (js/document.createElement \"textarea\")]\n       (set! (.-textContent text-area) text)\n       (js/document.body.appendChild text-area)\n       (.select text-area)\n       (js/document.execCommand \"copy\")\n       (.blur text-area)\n       (js/document.body.removeChild text-area))))\n\n(defmulti exec-action (fn [store action args] action))\n\n(defmethod exec-action :assoc-state [store _ [k v]]\n  (swap! store assoc-in (concat [:data] k) v))\n\n(defmethod exec-action :copy-to-clipboard [store _ [label path]]\n  (to-clipboard (pr-str (nav-in (state-data @store label) path))))\n\n(defmethod exec-action :set-window-size [store _ [{:keys [width height]}]]\n  (swap! store assoc :window {:width width :height height}))\n\n(defmethod exec-action :default [store action args]\n  (prn \"Unsupported action\" action))\n"],"x_google_ignoreList":[0]}