{"version":3,"sources":["stack/examples/pages/backend.cljs"],"mappings":"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","names":["props__44359__auto__","clj-props__44360__auto__","uix.core/glue-args","vec__71231","map__71234","cljs.core.nth","cljs.core/--destructure-map","cljs.core.get","f__44361__auto__","js/goog.DEBUG","temp__5823__auto__","stack.examples.pages.backend/folder-list","f__44290__auto__","*current-component*-orig-val__71297","uix.core/*current-component*","*current-component*-temp-val__71298","cljs.core/map?","js/Error","js/window","js/window.uix","js/window.uix.dev","sig__44299__auto__","js/window.uix.dev.signature!","js/window.uix.dev.register!","folders","on-folder-click","uix.compiler.alpha/component-element","stack.components.tables/table","uix.compiler.aot/>el","uix.compiler.attributes/interpret-attrs","iter__5480__auto__","s__71262","cljs.core/LazySeq","cljs.core/seq","cljs.core/chunked-seq?","c__5478__auto__","size__5479__auto__","cljs.core/count","b__71264","cljs.core/chunk-buffer","i__71263","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__71261","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","b","id","public","uix.compiler.attributes/keyword->string","_","vec__71320","map__71323","stack.examples.pages.backend/folder-contents-panel","*current-component*-orig-val__71390","*current-component*-temp-val__71391","folder","items","on-item-click","s__71335","b__71337","i__71336","iter__71334","i","name","folder?","__run-fn-form","__kind","__ns","__id","__level","sf","taoensso.telemere.impl/*rt-sig-filter*","__inst","js/Date","__thread","__root0","taoensso.telemere.impl/*trace-root*","__otel-context1","__uid","__root1","__run-result","signal__41746__auto__","cljs.core/Delay","signal__41737__auto__","taoensso.telemere.impl/Signal","taoensso.telemere/*ctx*","taoensso.telemere.impl/*trace-parent*","temp__5821__auto__","taoensso.telemere/*middleware*","sig-middleware__41738__auto__","taoensso.telemere.impl/dispatch-signal!","taoensso.telemere.impl/WrappedSignal","vec__71392","map__71395","stack.examples.pages.backend/file-contents-panel","*current-component*-orig-val__71403","*current-component*-temp-val__71404","path","content","or__5002__auto__","vec__71418","map__71421","stack.examples.pages.backend/file-explorer","*current-component*-orig-val__71438","*current-component*-temp-val__71439","file","stack.components.cards/card","uix.compiler.attributes/interpret-props","stack.examples.pages.backend/test-bucket-id","vec__71450","stack.examples.pages.backend/layout","*current-component*-orig-val__71476","*current-component*-temp-val__71477","_props","vec__71453","devices","set-devices!","uix.core/use-state","uix.hooks.alpha.use_effect","uix.core/jsfy-deps","stack.utils.supabase.get_table","stack.components.hardware/device-table","vec__71460","vec__71463","vec__71466","vec__71469","buckets","set-buckets!","bucket","set-bucket!","files","set-files!","set-file!","show-bucket-callback","show-file-callback","stack.utils.supabase/get-file","stack.utils.supabase/list-buckets","stack.utils.supabase/list-files","vec__71480","stack.examples.pages.backend/layout-with-auth","*current-component*-orig-val__71488","*current-component*-temp-val__71489","stack.services.auth/wrap-layout","cljs.core/chunk-first"],"sourcesContent":["(ns stack.examples.pages.backend\n  \"A page demonstrating some backend functionality provided by supabase.\n  Using react state/effect hooks for now to keep things focused (no re-frame).\n\n  TODO: Rework to detect connection failure and display an appropriate message\n  \"\n  (:require\n   ;Libs\n   [taoensso.telemere :as t]\n   [uix.core :refer [defui $]]\n   ;Stack\n   [stack.utils.supabase :as supabase]\n   [stack.services.auth :as auth]\n   ;App\n   [stack.components.cards :as cards]\n   [stack.components.tables :as tables]\n   [stack.components.hardware :refer [device-table]]))\n\n(defui folder-list [{:keys [folders on-folder-click]}]\n  ($ tables/table\n     ($ :caption \"Buckets\")\n     ($ :thead ($ :tr ($ :th \"Name\") ($ :th \"Public\")))\n\n     ($ :tbody\n        (for [b folders]\n          (let [id (:id b)\n                public (if (:public b)\n                         \"Y\"\n                         \"N\")]\n            ($ :tr {:key id}\n               ($ :td {:on-click (fn [^js _] (on-folder-click id))} (:name b))\n                  ;; ($ :td (:created_at b))\n                  ;; ($ :td (:updated_at b))\n               ($ :td public)\n                  ;;---\n               ))))))\n\n;; TODO: Consolidate this with components/file-table\n(defui folder-contents-panel [{:keys [folder items on-item-click]}]\n  ($ tables/table\n     ($ :caption (str \"Bucket contents (\" folder \")\"))\n     ($ :thead ($ :tr ($ :th \"Name\") ($ :th \"Created\") ($ :th \"Modified\")  ($ :th \"Size\")))\n     ($ :tbody\n        (for [i items]\n          (let [name (:name i)\n                folder? (nil? (:id i))]\n            ($ :tr {:key name} ;; (:id f) only valid for files, not folders\n               ($ :td {:on-click (if folder?\n                                   (fn [^js _] (t/log! {:data {:folder folder :subfolder name}} \"TODO: Folder selected\"))\n                                   (fn [^js _] (on-item-click name)))}\n                  name)\n               ($ :td (str (:created_at i)))\n               ($ :td (str (:updated_at i)))\n               ($ :td (str (:size (:metadata i))))))))))\n\n(defui file-contents-panel [{:keys [path content]}]\n  ($ :.flex.flex-col\n     ($ :pre (or content \"<Select a file to view its contents>\"))\n     ($ :label (or path \"<No file selected>\"))))\n\n(defui file-explorer [{:keys [folders on-folder-click folder items on-item-click file]}]\n  ($ cards/card {:title \"File explorer\"}\n     ($ :.flex.flex-col\n        ($ :.flex.flex-row\n           ($ :.flex-none\n              ($ folder-list {:folders folders :on-folder-click on-folder-click}))\n           ($ :.grow\n              ($ folder-contents-panel {:folder folder :items items :on-item-click on-item-click})))\n        ($ file-contents-panel file))))\n;; TODO: subscribe to something (?files table?) for real-time updates from this or another client\n;;       See clojurians slack / dart channel for some discussion/examples\n(def test-bucket-id \"test\")\n\n(defui layout [_props]\n\n  ($ :.flex.flex-col\n  ;; Using local state hooks rather then re-frame db here while exploring the supabase api...\n     (let [[devices set-devices!] (uix.core/use-state [])]\n       (uix.core/use-effect\n     ;; Retrieve the device table\n        (fn [] (supabase/get-table \"devices\" :then set-devices!))\n     ;; No dependencies -- i.e. don't re-run the effecthook\n        [])\n       ($ device-table {:devices devices}))\n     (let [[buckets set-buckets!] (uix.core/use-state [])\n           [bucket set-bucket!] (uix.core/use-state test-bucket-id)\n           [files set-files!] (uix.core/use-state [])\n           [file set-file!] (uix.core/use-state {:path nil :content nil})\n           show-bucket-callback (fn [bucket]\n                                  ;; Setting bucket should cause effect hook to re-run\n                                  (set-bucket! bucket))\n           show-file-callback (fn [path] (supabase/get-file {:bucket bucket :path path :then set-file!}))]\n       (uix.core/use-effect\n        (fn []\n          (supabase/list-buckets {:then set-buckets!}))\n     ;; No dependencies -- i.e. don't re-run the effecthook\n        [])\n       (uix.core/use-effect\n        (fn []\n          (supabase/list-files bucket {:then set-files!}))\n        ;; Re-run if 'bucket' changes\n        [bucket])\n       ($ file-explorer {:folders buckets :on-folder-click show-bucket-callback\n                         :folder bucket :items files :on-item-click show-file-callback\n                         :file file})\n;;\n       )))\n\n(defui layout-with-auth [_props]\n  ($ auth/wrap-layout {:layout layout}))\n"]}